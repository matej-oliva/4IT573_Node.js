<%- include('fragments/_header') %>

<div class="container mt-5">
	<div class="d-flex flex-row justify-content-between align-items-center">
		<h1>TODO list</h1>
		<% if (typeof isLoggedIn !== 'undefined' && isLoggedIn) { %>
		<div class="d-flex align-items-center">
			<span class="me-2">Welcome, <%= user.username %></span>
			<a class="btn btn-outline-primary" href="/logout">Logout</a>
		</div>
		<% } else { %>
		<button
			type="button"
			id="login"
			class="btn btn-primary"
			data-bs-toggle="modal"
			data-bs-target="#loginModal"
		>
			Login/Register
		</button>
		<% } %>
	</div>

	<div id="new-todo"><%- include('fragments/_newTodo') %></div>
	<div id="filters"><%- include('fragments/_filters') %></div>
	<div id="todos"><%- include('fragments/_todos') %></div>
</div>
<%- include('fragments/_login') %> <%- include('fragments/_footer') %>
